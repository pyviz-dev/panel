
<!DOCTYPE html>

<html>
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Testing — Panel 0.12.0rc11 documentation</title>
<link href="../_static/css/theme.css" rel="stylesheet"/>
<link href="../_static/css/index.c5995385ac14fb8791e8eb36b4908be2.css" rel="stylesheet"/>
<link href="../_static/vendor/fontawesome/5.13.0/css/all.min.css" rel="stylesheet"/>
<link as="font" crossorigin="" href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2" rel="preload" type="font/woff2"/>
<link as="font" crossorigin="" href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2" rel="preload" type="font/woff2"/>
<link href="../_static/pygments.css" rel="stylesheet" type="text/css">
<link href="../_static/basic.css" rel="stylesheet" type="text/css">
<link href="../_static/togglebutton.css" rel="stylesheet" type="text/css">
<link href="../_static/mystnb.css" rel="stylesheet" type="text/css"/>
<link href="../_static/graphviz.css" rel="stylesheet" type="text/css"/>
<link href="../_static/nbsite.css" rel="stylesheet" type="text/css"/>
<link href="../_static/css/custom.css" rel="stylesheet" type="text/css"/>
<link as="script" href="../_static/js/index.1c5a1a01449ed65a7b51.js" rel="preload"/>
<script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
<script src="../_static/jquery.js"></script>
<script src="../_static/underscore.js"></script>
<script src="../_static/doctools.js"></script>
<script src="../_static/togglebutton.js"></script>
<script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
<link href="../_static/favicon.ico" rel="shortcut icon">
<link href="../genindex.html" rel="index" title="Index"/>
<link href="../search.html" rel="search" title="Search"/>
<link href="../api/index.html" rel="next" title="API Reference Manual"/>
<link href="index.html" rel="prev" title="Getting Set Up"/>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<meta content="en" name="docsearch:language"/>
</link></link></link></link></head>
<body data-offset="80" data-spy="scroll" data-target="#bd-toc-nav">
<div class="container-fluid" id="banner"></div>
<nav class="navbar navbar-dark navbar-expand-lg bg-dark fixed-top bd-navbar" id="navbar-main"><div class="container-xl">
<div id="navbar-start">
<a class="navbar-brand" href="../index.html">
<img alt="logo" class="logo" src="../_static/logo_horizontal.png"/>
</a>
</div>
<button aria-controls="navbar-collapsible" aria-expanded="false" aria-label="Toggle navigation" class="navbar-toggler" data-target="#navbar-collapsible" data-toggle="collapse" type="button">
<span class="navbar-toggler-icon"></span>
</button>
<div class="col-lg-9 collapse navbar-collapse" id="navbar-collapsible">
<div class="mr-auto" id="navbar-center">
<div class="navbar-center-item">
<ul class="navbar-nav" id="navbar-main-elements">
<li class="toctree-l1 nav-item">
<a class="reference internal nav-link" href="../getting_started/index.html">
  Getting Started
 </a>
</li>
<li class="toctree-l1 nav-item">
<a class="reference internal nav-link" href="../user_guide/index.html">
  User Guide
 </a>
</li>
<li class="toctree-l1 nav-item">
<a class="reference internal nav-link" href="../gallery/index.html">
  Gallery
 </a>
</li>
<li class="toctree-l1 nav-item">
<a class="reference internal nav-link" href="../reference/index.html">
  Reference Gallery
 </a>
</li>
<li class="toctree-l1 current active nav-item">
<a class="reference internal nav-link" href="index.html">
  Developers
 </a>
</li>
<li class="toctree-l1 nav-item">
<a class="reference internal nav-link" href="../api/index.html">
  API
 </a>
</li>
<li class="toctree-l1 nav-item">
<a class="reference internal nav-link" href="../releases.html">
  Releases
 </a>
</li>
<li class="toctree-l1 nav-item">
<a class="reference internal nav-link" href="../FAQ.html">
  FAQ
 </a>
</li>
<li class="toctree-l1 nav-item">
<a class="reference internal nav-link" href="../about/index.html">
  About
 </a>
</li>
</ul>
</div>
</div>
<div id="navbar-end">
<div class="navbar-end-item">
<ul aria-label="Icon Links" class="navbar-nav" id="navbar-icon-links">
<li class="nav-item">
<a class="nav-link" href="https://github.com/holoviz/panel" rel="noopener" target="_blank" title="GitHub">
<span><i class="fab fa-github-square"></i></span>
<label class="sr-only">GitHub</label>
</a>
</li>
<li class="nav-item">
<a class="nav-link" href="https://twitter.com/Panel_Org" rel="noopener" target="_blank" title="Twitter">
<span><i class="fab fa-twitter-square"></i></span>
<label class="sr-only">Twitter</label>
</a>
</li>
<li class="nav-item">
<a class="nav-link" href="https://discourse.holoviz.org/" rel="noopener" target="_blank" title="Discourse">
<span><i class="fab fa-discourse"></i></span>
<label class="sr-only">Discourse</label>
</a>
</li>
</ul>
</div>
</div>
</div>
</div>
</nav>
<div class="container-xl">
<div class="row">
<!-- Only show if we have sidebars configured, else just a small margin  -->
<div class="col-12 col-md-2 bd-sidebar"><form action="../search.html" class="bd-search d-flex align-items-center" method="get">
<i class="icon fas fa-search"></i>
<input aria-label="Search the docs ..." autocomplete="off" class="form-control" id="search-input" name="q" placeholder="Search the docs ..." type="search"/>
</form><nav aria-label="Main navigation" class="bd-links" id="bd-docs-nav">
<div class="bd-toc-item active">
<ul class="current nav bd-sidenav">
<li class="toctree-l1 current active has-children">
<a class="reference internal" href="index.html">
   Getting Set up
  </a>
<input checked="" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox">
<label for="toctree-checkbox-1">
<i class="fas fa-chevron-down">
</i>
</label>
<ul class="current">
<li class="toctree-l2 current active">
<a class="current reference internal" href="#">
     Testing
    </a>
</li>
</ul>
</input></li>
<li class="toctree-l1 current active">
<a class="current reference internal" href="#">
   Testing
  </a>
</li>
</ul>
</div>
</nav>
</div>
<div class="d-none d-xl-block col-xl-2 bd-toc">
<div class="toc-item">
<div class="tocsection onthispage pt-5 pb-3">
<i class="fas fa-list"></i> On this page
</div>
<nav id="bd-toc-nav">
<ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry">
<a class="reference internal nav-link" href="#running-tests-locally">
   Running Tests Locally
  </a>
<ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry">
<a class="reference internal nav-link" href="#test-selection">
     Test Selection
    </a>
</li>
<li class="toc-h3 nav-item toc-entry">
<a class="reference internal nav-link" href="#integration-tests">
     Integration tests
    </a>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry">
<a class="reference internal nav-link" href="#writing-tests">
   Writing Tests
  </a>
<ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry">
<a class="reference internal nav-link" href="#python-unit-tests">
     Python Unit Tests
    </a>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry">
<a class="reference internal nav-link" href="#continuous-integration">
   Continuous Integration
  </a>
<ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry">
<a class="reference internal nav-link" href="#configuration">
     Configuration
    </a>
</li>
<li class="toc-h3 nav-item toc-entry">
<a class="reference internal nav-link" href="#etiquette">
     Etiquette
    </a>
</li>
</ul>
</li>
</ul>
</nav>
</div>
<div class="toc-item">
</div>
</div>
<main class="col-12 col-md-10 col-xl-8 py-md-5 pl-md-5 pr-md-4 bd-content" role="main">
<div>
<div class="section" id="testing">
<span id="devguide-testing"></span><h1>Testing<a class="headerlink" href="#testing" title="Permalink to this headline">¶</a></h1>
<p>This chapter describes how to run various tests locally in a
development environment, guidelines for writing tests, and information
regarding the continuous testing infrastructure.</p>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#running-tests-locally" id="id1">Running Tests Locally</a></p>
<ul>
<li><p><a class="reference internal" href="#test-selection" id="id2">Test Selection</a></p></li>
<li><p><a class="reference internal" href="#integration-tests" id="id3">Integration tests</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#writing-tests" id="id4">Writing Tests</a></p>
<ul>
<li><p><a class="reference internal" href="#python-unit-tests" id="id5">Python Unit Tests</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#continuous-integration" id="id6">Continuous Integration</a></p>
<ul>
<li><p><a class="reference internal" href="#configuration" id="id7">Configuration</a></p></li>
<li><p><a class="reference internal" href="#etiquette" id="id8">Etiquette</a></p></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="running-tests-locally">
<h2><a class="toc-backref" href="#id1">Running Tests Locally</a><a class="headerlink" href="#running-tests-locally" title="Permalink to this headline">¶</a></h2>
<p>Before attempting to run Panel tests, make sure you have successfully
run through all of the instructions in the <a class="reference internal" href="index.html#devguide-setup"><span class="std std-ref">Getting Set Up</span></a>
section of the Developer’s Guide.</p>
<div class="section" id="test-selection">
<h3><a class="toc-backref" href="#id2">Test Selection</a><a class="headerlink" href="#test-selection" title="Permalink to this headline">¶</a></h3>
<p>Currently Panel uses linting and two types of tests regular unit tests
which are run with pytest and notebook example tests run with nbsmoke:</p>
<p>To run flake checking use:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>doit test_flakes
</pre></div>
</div>
<p>To run unit tests use:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>doit test_unit
</pre></div>
</div>
<p>To run example smoke tests use:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>doit test_examples
</pre></div>
</div>
</div>
<div class="section" id="integration-tests">
<h3><a class="toc-backref" href="#id3">Integration tests</a><a class="headerlink" href="#integration-tests" title="Permalink to this headline">¶</a></h3>
</div>
</div>
<div class="section" id="writing-tests">
<h2><a class="toc-backref" href="#id4">Writing Tests</a><a class="headerlink" href="#writing-tests" title="Permalink to this headline">¶</a></h2>
<p>In order to help keep Panel maintainable, all Pull Requests that touch
code should normally be accompanied by relevant tests. While
exceptions may be made for specific circumstances, the default
assumption should be that a Pull Request without tests may not be
merged.</p>
<div class="section" id="python-unit-tests">
<h3><a class="toc-backref" href="#id5">Python Unit Tests</a><a class="headerlink" href="#python-unit-tests" title="Permalink to this headline">¶</a></h3>
<p>Python unit tests maintain the basic functionality of the Python
portion of the Panel library. A few general guidelines will help you
write Python unit tests:</p>
<dl class="simple">
<dt>absolute imports</dt><dd><p>In order to ensure that Panel’s unit tests as relocatable and unambiguous
as possible, always prefer absolute imports in test files. When convenient,
import and use the entire module under test:</p>
<ul class="simple">
<li><p><strong>GOOD</strong>: <code class="docutils literal notranslate"><span class="pre">import</span> <span class="pre">panel.widgets</span></code></p></li>
<li><p><strong>GOOD</strong>: <code class="docutils literal notranslate"><span class="pre">from</span> <span class="pre">panel.layout</span> <span class="pre">import</span> <span class="pre">Column</span></code></p></li>
<li><p><strong>BAD</strong>: <code class="docutils literal notranslate"><span class="pre">from</span> <span class="pre">..models.widgets</span> <span class="pre">import</span> <span class="pre">Player</span></code></p></li>
</ul>
</dd>
<dt>pytest</dt><dd><p>All new tests should use and assume <a class="reference external" href="https://docs.pytest.org">pytest</a> for test running, fixtures,
parameterized testing, etc. New tests should <em>not</em> use the <code class="docutils literal notranslate"><span class="pre">unittest</span></code>
module of the Python standard library.</p>
</dd>
</dl>
</div>
</div>
<div class="section" id="continuous-integration">
<h2><a class="toc-backref" href="#id6">Continuous Integration</a><a class="headerlink" href="#continuous-integration" title="Permalink to this headline">¶</a></h2>
<p>Every push to the <cite>master</cite> branch or any Pull Request branch on GitHub
automatically triggers a full test build on the <a class="reference external" href="https://github.com/features/actions">GitHub Actions</a> continuous
integration service. This is most often useful for running the full Panel
test suite continuously, but also triggers automated scripts for publishing
releases when a tagged branch is pushed.</p>
<p>You can see the list of all current and previous builds at this URL:
<a class="reference external" href="https://github.com/holoviz/panel/actions">https://github.com/holoviz/panel/actions</a></p>
<div class="section" id="configuration">
<h3><a class="toc-backref" href="#id7">Configuration</a><a class="headerlink" href="#configuration" title="Permalink to this headline">¶</a></h3>
<p>There are a number of files that affect the build configuration:</p>
<ul class="simple">
<li><dl class="simple">
<dt><cite>.github/worksflows/test.yaml</cite></dt><dd><p>Defines the build matrix and global configurations for the stages
described below.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><cite>conda.recipe/meta.yaml</cite></dt><dd><p>Instructions for building a conda noarch package for Panel.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><cite>setup.py</cite></dt><dd><p>Used to build sdist packages and “dev” installs. This file is the
single source of truth of all dependencies.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><cite>tox.ini</cite></dt><dd><p>Contains the configuration for the doit commands .</p>
</dd>
</dl>
</li>
</ul>
</div>
<div class="section" id="etiquette">
<h3><a class="toc-backref" href="#id8">Etiquette</a><a class="headerlink" href="#etiquette" title="Permalink to this headline">¶</a></h3>
<p>GitHub Actions provides free build workers to Open Source projects. A few
considerations will help you be considerate of others needing these limited
resources:</p>
<ul class="simple">
<li><p>Group commits into meaningful chunks of work before pushing to GitHub (i.e.
don’t push on every commit).</p></li>
<li><p>If you must make multiple commits in succession, navigate to GitHub Actions and
cancel all but the last build, in order to free up build workers.</p></li>
</ul>
</div>
</div>
</div>
</div>
<div class="prev-next-bottom">
<a class="left-prev" href="index.html" id="prev-link" title="previous page">Getting Set Up</a>
<a class="right-next" href="../api/index.html" id="next-link" title="next page">API Reference Manual</a>
</div>
</main>
</div>
</div>
<script src="../_static/js/index.1c5a1a01449ed65a7b51.js"></script>
<footer class="footer mt-5 mt-md-0">
<div class="container">
<div class="footer-item">
<p class="copyright">
    © Copyright 2019-2021 Panel contributors.<br/>
</p>
</div>
<div class="footer-item">
<p class="sphinx-version">
Created using <a href="http://sphinx-doc.org/">Sphinx</a> 3.5.3.<br/>
</p>
</div>
</div>
</footer>
</body>
</html>